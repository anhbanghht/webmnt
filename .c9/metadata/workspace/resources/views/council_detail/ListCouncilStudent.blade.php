{"filter":false,"title":"ListCouncilStudent.blade.php","tooltip":"/resources/views/council_detail/ListCouncilStudent.blade.php","undoManager":{"mark":13,"position":13,"stack":[[{"start":{"row":0,"column":0},"end":{"row":150,"column":5},"action":"remove","lines":["@extends('layouts.default')","","@section('content')","<section>","\t<div class=\"section-body contain-lg\">","    \t<div class=\"row\">","           <div class=\"col-md-12\">","        \t\t<form class=\"form\" method=\"post\">","        \t\t    {{ csrf_field() }}","        \t\t\t<div class=\"card card-underline\">","\t\t\t\t\t    <div class=\"card-head card-head-lg\">","\t\t\t\t\t\t\t<header>Thêm danh sách sinh viên trong hội đồng {{$council->name}} đợt {{$council->council_group->name}}</header>","\t\t\t\t\t\t\t<div class=\"tools\">","\t\t\t\t\t\t\t\t<div class=\"btn-group\">","\t\t\t\t\t\t\t\t\t<a class=\"btn btn-icon-toggle btn-primary\" href=\"{{ URL::previous() }}\"  data-toggle=\"tooltip\" data-placement=\"top\" data-original-title=\"Trở lại\"><i class=\"fa fa-undo\"></i></a>","\t\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t</div>","\t\t\t\t\t\t<div class=\"card-body\">","\t\t                    <div class=\"table-responsive\">","\t\t\t\t\t\t\t\t<table id=\"datatable1\" class=\"table no-margin datatable\">","\t\t\t\t\t\t\t\t\t<thead>","\t\t\t\t\t\t\t\t\t\t<tr>","\t\t\t\t\t\t\t\t\t\t\t<th class=\"hidden\"></th>","\t\t\t\t\t\t\t\t\t\t\t<th>Mã sinh viên</th>","\t\t\t\t\t\t\t\t\t\t\t<th>Tên sinh viên</th>","\t\t\t\t\t\t\t\t\t\t\t<th>Đề tài</th>","\t\t\t\t\t\t\t\t\t\t\t<th>GVHD</th>","\t\t\t\t\t\t\t\t\t\t</tr>","\t\t\t\t\t\t\t\t\t</thead>","\t\t\t\t\t\t\t\t\t<tbody>","\t\t\t\t\t\t\t\t\t    @foreach( $students as $item )","\t\t\t\t\t\t\t\t\t    <tr data-id=\"{{$item->id}}\"\tclass=\"@if( in_array( $item->id, $students_selected->pluck('student_id')->toArray() ) ) disabled pre @endif\">","\t\t\t\t\t\t\t\t\t    \t<td class=\"hidden\"><input type=\"checkbox\" name=\"ids[]\" class=\"ids\" value=\"{{$item->id}}\" /></td>","\t\t\t\t\t\t\t\t\t\t\t<td>{{$item->student->student_id}}</td>","\t\t\t\t\t\t\t\t\t\t\t<td>{{$item->student->student_name}}</td>","\t\t\t\t\t\t\t\t\t\t\t<td>{{$item->topics->topic_name}}</td>","\t\t\t\t\t\t\t\t\t\t\t<td>{{$item->teacher->teacher_name}}</td>","\t\t\t\t\t\t\t\t\t\t</tr>","\t\t\t\t\t\t\t\t\t    @endforeach","\t\t\t\t\t\t\t\t\t</tbody>","\t\t\t\t\t\t\t\t</table>","\t\t\t\t\t\t\t</div><!--end .table-responsive -->","\t\t\t\t\t\t</div>","\t\t\t\t\t\t<div class=\"card-actionbar\">","\t\t        \t\t\t<div class=\"card-actionbar-row\">","\t\t        \t\t\t\t<button class=\"btn ink-reaction btn-primary\" id=\"add_to_list\">Thêm vào danh sách</button>","\t\t        \t\t\t</div>","\t\t        \t\t</div>","\t\t\t\t\t</div>","    \t\t</div>","        </div>","    \t<div class=\"row\">","           <div class=\"col-md-12\">","        \t\t<form class=\"form\" method=\"post\">","        \t\t    {{ csrf_field() }}","        \t\t\t<div class=\"card card-underline\">","\t\t\t\t\t    <div class=\"card-head card-head-lg\">","\t\t\t\t\t\t\t<header>Danh sách sinh viên được thêm</header>","\t\t\t\t\t\t</div>","\t\t\t\t<div class=\"card-body\">","                    <div class=\"table-responsive\">","                    \t","\t\t\t\t\t\t<table id=\"tableResult\" class=\"table no-margin datatable\">","\t\t\t\t\t\t\t<thead>","\t\t\t\t\t\t\t\t<tr>","\t\t\t\t\t\t\t\t\t<th class=\"hidden\"></th>","\t\t\t\t\t\t\t\t\t<th>Mã sinh viên</th>","\t\t\t\t\t\t\t\t\t<th>Tên sinh viên</th>","\t\t\t\t\t\t\t\t\t<th>Đề tài</th>","\t\t\t\t\t\t\t\t\t<th>GVHD</th>","\t\t\t\t\t\t\t\t</tr>","\t\t\t\t\t\t\t</thead>","\t\t\t\t\t\t\t<tbody>","\t\t\t\t\t\t\t\t@foreach($students_on_selected as $item)","\t\t\t\t\t\t\t    <tr data-id=\"9\" class=\"odd\" role=\"row\">","\t\t\t\t\t\t\t    \t<td class=\"hidden\"><input type=\"checkbox\" name=\"ids[]\" class=\"ids\" value=\"{{$item->student->student_id}}\" ></td>","\t\t\t\t\t\t\t\t\t<td>{{$item->council->council_group->student->student_id}}</td>","\t\t\t\t\t\t\t\t\t<td>{{$item->council->council_group->student->student_name}}</td>","\t\t\t\t\t\t\t\t\t<td>{{$item->council->council_group->topics->topic_name}}</td>","\t\t\t\t\t\t\t\t\t<td>{{$item->council->council_group->teacher->teacher_name}}</td>","\t\t\t\t\t\t\t\t</tr>","\t\t\t\t\t\t\t\t@endforeach","\t\t\t\t\t\t\t</tbody>","\t\t\t\t\t\t</table>","\t\t\t\t\t</div><!--end .table-responsive -->","\t\t\t\t</div>","\t\t\t    <div class=\"card-actionbar\">","        \t\t\t<div class=\"card-actionbar-row\">","        \t\t\t\t<button class=\"btn ink-reaction btn-primary\" id=\"add_to_list\">Cập nhật danh sách</button>","        \t\t\t</div>","        \t\t</div>","        \t\t</form>","    \t\t</div>","        </div>","\t</div>","</section>","@stop","@section('addtional-css')","<link type=\"text/css\" rel=\"stylesheet\" href=\"{{ asset('public/assets/css/theme-default/libs/DataTables/jquery.dataTables.css')}}\" />","<link type=\"text/css\" rel=\"stylesheet\" href=\"{{ asset('public/assets/css/theme-default/libs/DataTables/extensions/dataTables.colVis.css')}}\" />","<link type=\"text/css\" rel=\"stylesheet\" href=\"{{ asset('public/assets/css/theme-default/libs/DataTables/extensions/dataTables.tableTools.css')}}\" />","@stop","@section('addtional-js')","<script src=\"{{ asset('public/assets/js/libs/DataTables/jquery.dataTables.min.js')}}\"></script>","<script src=\"{{ asset('public/assets/js/libs/DataTables/extensions/ColVis/js/dataTables.colVis.min.js')}}\"></script>","<script src=\"{{ asset('public/assets/js/libs/DataTables/extensions/TableTools/js/dataTables.tableTools.min.js')}}\"></script>","<script>","    (function($){","        $('#datatable1').DataTable({","\t\t\t\"dom\": 'lCfrtip',","\t\t\t\"order\": [],","\t\t\t\"colVis\": {","\t\t\t\t\"buttonText\": \"Columns\",","\t\t\t\t\"overlayFade\": 0,","\t\t\t\t\"align\": \"right\"","\t\t\t},","\t\t\t\"language\": {","\t\t\t\t\"lengthMenu\": '_MENU_ entries per page',","\t\t\t\t\"search\": '<i class=\"fa fa-search\"></i>',","\t\t\t\t\"paginate\": {","\t\t\t\t\t\"previous\": '<i class=\"fa fa-angle-left\"></i>',","\t\t\t\t\t\"next\": '<i class=\"fa fa-angle-right\"></i>'","\t\t\t\t}","\t\t\t}","\t\t});","","\t\t$('#datatable1 tbody').on('click', 'tr:not(.disabled)', function() {","\t\t\t$(this).toggleClass('selected');","\t\t\tif( $(this).hasClass('selected') )","\t\t\t\t$(this).find('.ids').prop('checked',true);","\t\t\telse","\t\t\t\t$(this).find('.ids').prop('checked',false);","\t\t});","\t\t","\t\t$('#add_to_list').on('click', function(e){","\t\t\te.preventDefault();","\t\t\t$('#datatable1 tbody tr.selected').each(function(key,item){","\t\t\t\t$(item).removeClass('selected');","\t\t\t\tvar newrow = $(item).clone();","\t\t\t\t$(item).addClass('disabled');","\t\t\t\t$(item).click(function(e){","\t\t\t\t\te.preventDefault();","\t\t\t\t\treturn false;","\t\t\t\t});","\t\t\t\t$('#tableResult tbody').append(newrow);","\t\t\t});","\t\t});","    })(jQuery);","</script>","@stop"],"id":2},{"start":{"row":0,"column":0},"end":{"row":120,"column":5},"action":"insert","lines":["@extends('layouts.default')","","@section('content')","<section>","    <div class=\"section-body contain-lg\">","    \t<div class=\"row\">","        \t<div class=\"col-lg-12\">","    \t\t\t<div class=\"card card-underline\">","\t\t\t    <div class=\"card-head card-head-lg\">","\t\t\t\t\t<header>Bảng tổng hợp đề tài {{ $intership_time->intertime_name }}</header>","\t\t\t\t\t<div class=\"tools\">","\t\t\t\t\t\t<div class=\"btn-group\">","\t\t\t\t\t\t    @if( \\Auth::user()->has_permission( 'intership_time::addListStudent' ) )","        \t\t\t\t        <a href=\"{{route('intership_time::addListStudent',['intertime_id'=>$intership_time->id])}}\" class=\"btn btn-icon-toggle btn-primary\" data-toggle=\"tooltip\" data-placement=\"top\" data-original-title=\"Cập nhật sinh viên thực tập\"><span class=\"md md-cached\"></span></a>","        \t\t\t\t    @endif","        \t\t\t\t    @if( \\Auth::user()->has_permission( 'intership_time::addlistTeacher' ) )","        \t\t\t\t        <a href=\"{{route('intership_time::addlistTeacher',['intertime_id'=>$intership_time->id])}}\" class=\"btn btn-icon-toggle btn-primary\" data-toggle=\"tooltip\" data-placement=\"top\" data-original-title=\"Phân công GVHD và GVPB\"><span class=\"glyphicon glyphicon-edit\"></span></a>","        \t\t\t\t    @endif","\t\t\t\t\t\t\t<a class=\"btn btn-icon-toggle btn-primary\" href=\"{{ URL::previous() }}\"  data-toggle=\"tooltip\" data-placement=\"top\" data-original-title=\"Trở lại\"><i class=\"fa fa-undo\"></i></a>","\t\t\t\t\t\t</div>","\t\t\t\t\t</div>","\t\t\t\t</div>","    \t\t\t    <form method=\"POST\">","    \t\t\t\t<div class=\"card-body\">","    \t\t\t\t\t<div class=\"table-responsive\">","    \t\t\t\t\t\t<table id=\"datatable1\" class=\"table no-margin\">","    \t\t\t\t\t\t\t<thead>","    \t\t\t\t\t\t\t\t<tr>","    \t\t\t\t\t\t\t\t\t<th>Mã sinh viên</th>","    \t\t\t\t\t\t\t\t\t<th>Tên sinh viên</th>","    \t\t\t\t\t\t\t\t\t<th>Lớp</th>","    \t\t\t\t\t\t\t\t\t<th>Tên đề tài</th>","    \t\t\t\t\t\t\t\t\t<th>GVHD</th>","    \t\t\t\t\t\t\t\t\t<th>GVPB</th>","    \t\t\t\t\t\t\t\t\t<th style=\"width:100px;\">Hành động</th>","    \t\t\t\t\t\t\t\t</tr>","    \t\t\t\t\t\t\t</thead>","    \t\t\t\t\t\t\t<tbody>","    \t\t\t\t\t\t\t    ","    \t\t\t\t\t\t\t    @foreach( $students as $item )","    \t\t\t\t\t\t\t    <tr>","    \t\t\t\t\t\t\t\t\t<td>{{$item->student->student_id}}</td>","    \t\t\t\t\t\t\t\t\t<td>{{$item->student->student_name}}</td>","    \t\t\t\t\t\t\t\t\t<td>{{$item->student->class_name}}</td>","    \t\t\t\t\t\t\t\t\t<td>@if($item->topics){{$item->topics->topic_name}}@endif</td>","    \t\t\t\t\t\t\t\t\t<td>@if($item->teacher_id){{$item->teacher->teacher_name}}@endif</td>","    \t\t\t\t\t\t\t\t\t<td>@if($item->teacher_reviewer){{$item->gvpb->teacher_name}}@endif</td>","    \t\t\t\t\t\t\t\t\t<td>","    \t\t\t\t\t\t\t\t\t    @if($item->topics)","    \t\t\t\t\t\t\t\t\t        @if( \\Auth::user()->has_permission( 'topic::edit' ) )","        \t\t\t\t\t\t\t\t\t    <a href=\"{{route('topic::edit',['id'=>$item->topic_id])}}\" class=\"btn ink-reaction btn-primary\" data-toggle=\"tooltip\" data-placement=\"top\" data-original-title=\"Sửa đề tài\"><span class=\"glyphicon glyphicon-pencil\"></span></a>","        \t\t\t\t\t\t\t\t\t    @endif","    \t\t\t\t\t\t\t\t\t    @else","    \t\t\t\t\t\t\t\t\t        @if($item->teacher)","            \t\t\t\t\t\t\t\t\t    @if( \\Auth::user()->has_permission( 'topic::add' ) )","            \t\t\t\t\t\t\t\t\t    <a href=\"{{route('topic::add',['id'=>$item->id])}}\" class=\"btn ink-reaction btn-primary\" data-toggle=\"tooltip\" data-placement=\"top\" data-original-title=\"Thêm đề tài\"><span class=\"glyphicon glyphicon-plus\"></span></a>","            \t\t\t\t\t\t\t\t\t    @endif","            \t\t\t\t\t\t\t\t\t@endif","    \t\t\t\t\t\t\t\t\t    @endif","    \t\t\t\t\t\t\t\t\t    @if( \\Auth::user()->has_permission( 'intership_time::delete' ) )","    \t\t\t\t\t\t\t\t\t    <a href=\"{{route('intership_time::delete',['id'=>$item->id])}}\" class=\"btn ink-reaction btn-primary remove-btn\"><span class=\"glyphicon glyphicon-remove\"></span></a>","    \t\t\t\t\t\t\t\t\t    @endif","    \t\t\t\t\t\t\t\t\t</td>","    \t\t\t\t\t\t\t\t</tr>","    \t\t\t\t\t\t\t    @endforeach","    \t\t\t\t\t\t\t\t","    \t\t\t\t\t\t\t</tbody>","    \t\t\t\t\t\t</table>","    \t\t\t\t\t\t","    \t\t\t\t\t</div><!--end .table-responsive -->","    \t\t\t\t</div><!--end .card-body -->","    \t\t\t</div><!--end .card -->","    \t\t</div>","\t\t</div>","\t\t","    </div>","</section>","@stop","@section('addtional-css')","<link type=\"text/css\" rel=\"stylesheet\" href=\"{{ asset('public/assets/css/theme-default/libs/DataTables/jquery.dataTables.css')}}\" />","<link type=\"text/css\" rel=\"stylesheet\" href=\"{{ asset('public/assets/css/theme-default/libs/DataTables/extensions/dataTables.colVis.css')}}\" />","<link type=\"text/css\" rel=\"stylesheet\" href=\"{{ asset('public/assets/css/theme-default/libs/DataTables/extensions/dataTables.tableTools.css')}}\" />","@stop","@section('addtional-js')","<script src=\"{{ asset('public/assets/js/libs/DataTables/jquery.dataTables.min.js')}}\"></script>","<script src=\"{{ asset('public/assets/js/libs/DataTables/extensions/ColVis/js/dataTables.colVis.min.js')}}\"></script>","<script src=\"{{ asset('public/assets/js/libs/DataTables/extensions/TableTools/js/dataTables.tableTools.min.js')}}\"></script>","<script>","    (function($){","        $('#datatable1').DataTable({","\t\t\t\"dom\": 'lCfrtip',","\t\t\t\"order\": [],","\t\t\t\"colVis\": {","\t\t\t\t\"buttonText\": \"Columns\",","\t\t\t\t\"overlayFade\": 0,","\t\t\t\t\"align\": \"right\"","\t\t\t},","\t\t\t\"language\": {","\t\t\t\t\"lengthMenu\": '_MENU_ entries per page',","\t\t\t\t\"search\": '<i class=\"fa fa-search\"></i>',","\t\t\t\t\"paginate\": {","\t\t\t\t\t\"previous\": '<i class=\"fa fa-angle-left\"></i>',","\t\t\t\t\t\"next\": '<i class=\"fa fa-angle-right\"></i>'","\t\t\t\t}","\t\t\t}","\t\t});","        var token = \"{{csrf_token()}}\";","        $('.remove-btn').click(function(e){","           e.preventDefault();","           var link = $(e.currentTarget).attr('href');","           $.ajax({","               url: link,","               data: '_token='+token,","               method: 'POST'","           }).done(function(data){","              window.location.reload(); ","           });","        });","    })(jQuery);","</script>","@stop"]}],[{"start":{"row":9,"column":13},"end":{"row":9,"column":71},"action":"remove","lines":["Bảng tổng hợp đề tài {{ $intership_time->intertime_name }}"],"id":3},{"start":{"row":9,"column":13},"end":{"row":9,"column":104},"action":"insert","lines":["danh sách sinh viên trong hội đồng {{$council->name}} đợt {{$council->council_group->name}}"]}],[{"start":{"row":9,"column":13},"end":{"row":9,"column":14},"action":"remove","lines":["d"],"id":4}],[{"start":{"row":9,"column":13},"end":{"row":9,"column":14},"action":"insert","lines":["D"],"id":5}],[{"start":{"row":12,"column":10},"end":{"row":17,"column":22},"action":"remove","lines":["@if( \\Auth::user()->has_permission( 'intership_time::addListStudent' ) )","        \t\t\t\t        <a href=\"{{route('intership_time::addListStudent',['intertime_id'=>$intership_time->id])}}\" class=\"btn btn-icon-toggle btn-primary\" data-toggle=\"tooltip\" data-placement=\"top\" data-original-title=\"Cập nhật sinh viên thực tập\"><span class=\"md md-cached\"></span></a>","        \t\t\t\t    @endif","        \t\t\t\t    @if( \\Auth::user()->has_permission( 'intership_time::addlistTeacher' ) )","        \t\t\t\t        <a href=\"{{route('intership_time::addlistTeacher',['intertime_id'=>$intership_time->id])}}\" class=\"btn btn-icon-toggle btn-primary\" data-toggle=\"tooltip\" data-placement=\"top\" data-original-title=\"Phân công GVHD và GVPB\"><span class=\"glyphicon glyphicon-edit\"></span></a>","        \t\t\t\t    @endif"],"id":6}],[{"start":{"row":11,"column":29},"end":{"row":12,"column":10},"action":"remove","lines":["","\t\t\t\t\t\t    "],"id":7}],[{"start":{"row":22,"column":13},"end":{"row":28,"column":52},"action":"remove","lines":["<th>Mã sinh viên</th>","    \t\t\t\t\t\t\t\t\t<th>Tên sinh viên</th>","    \t\t\t\t\t\t\t\t\t<th>Lớp</th>","    \t\t\t\t\t\t\t\t\t<th>Tên đề tài</th>","    \t\t\t\t\t\t\t\t\t<th>GVHD</th>","    \t\t\t\t\t\t\t\t\t<th>GVPB</th>","    \t\t\t\t\t\t\t\t\t<th style=\"width:100px;\">Hành động</th>"],"id":9},{"start":{"row":22,"column":13},"end":{"row":26,"column":24},"action":"insert","lines":["<th class=\"hidden\"></th>","\t\t\t\t\t\t\t\t\t\t\t<th>Mã sinh viên</th>","\t\t\t\t\t\t\t\t\t\t\t<th>Tên sinh viên</th>","\t\t\t\t\t\t\t\t\t\t\t<th>Đề tài</th>","\t\t\t\t\t\t\t\t\t\t\t<th>GVHD</th>"]}],[{"start":{"row":23,"column":0},"end":{"row":23,"column":1},"action":"remove","lines":["\t"],"id":10},{"start":{"row":24,"column":0},"end":{"row":24,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":25,"column":0},"end":{"row":25,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":26,"column":0},"end":{"row":26,"column":1},"action":"remove","lines":["\t"]}],[{"start":{"row":38,"column":85},"end":{"row":39,"column":0},"action":"insert","lines":["",""],"id":11},{"start":{"row":39,"column":0},"end":{"row":39,"column":13},"action":"insert","lines":["    \t\t\t\t\t\t\t\t\t"]}],[{"start":{"row":39,"column":13},"end":{"row":43,"column":74},"action":"insert","lines":["<td class=\"hidden\"><input type=\"checkbox\" name=\"ids[]\" class=\"ids\" value=\"{{$item->student->student_id}}\" ></td>","\t\t\t\t\t\t\t\t\t<td>{{$item->council->council_group->student->student_id}}</td>","\t\t\t\t\t\t\t\t\t<td>{{$item->council->council_group->student->student_name}}</td>","\t\t\t\t\t\t\t\t\t<td>{{$item->council->council_group->topics->topic_name}}</td>","\t\t\t\t\t\t\t\t\t<td>{{$item->council->council_group->teacher->teacher_name}}</td>"],"id":12}],[{"start":{"row":33,"column":13},"end":{"row":39,"column":125},"action":"remove","lines":["<td>{{$item->student->student_id}}</td>","    \t\t\t\t\t\t\t\t\t<td>{{$item->student->student_name}}</td>","    \t\t\t\t\t\t\t\t\t<td>{{$item->student->class_name}}</td>","    \t\t\t\t\t\t\t\t\t<td>@if($item->topics){{$item->topics->topic_name}}@endif</td>","    \t\t\t\t\t\t\t\t\t<td>@if($item->teacher_id){{$item->teacher->teacher_name}}@endif</td>","    \t\t\t\t\t\t\t\t\t<td>@if($item->teacher_reviewer){{$item->gvpb->teacher_name}}@endif</td>","    \t\t\t\t\t\t\t\t\t<td class=\"hidden\"><input type=\"checkbox\" name=\"ids[]\" class=\"ids\" value=\"{{$item->student->student_id}}\" ></td>"],"id":13}],[{"start":{"row":34,"column":0},"end":{"row":34,"column":1},"action":"insert","lines":["\t"],"id":14},{"start":{"row":35,"column":0},"end":{"row":35,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":36,"column":0},"end":{"row":36,"column":1},"action":"insert","lines":["\t"]},{"start":{"row":37,"column":0},"end":{"row":37,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":32,"column":19},"end":{"row":33,"column":13},"action":"remove","lines":["","    \t\t\t\t\t\t\t\t\t"],"id":15}],[{"start":{"row":21,"column":16},"end":{"row":22,"column":37},"action":"remove","lines":["","    \t\t\t\t\t\t\t\t\t<th class=\"hidden\"></th>"],"id":16}]]},"ace":{"folds":[],"scrolltop":600,"scrollleft":150,"selection":{"start":{"row":21,"column":16},"end":{"row":21,"column":16},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":85,"state":"js-start","mode":"ace/mode/php"}},"timestamp":1464804821996,"hash":"dd748ceae4e7180470848032238d167b1b04b210"}